package dev.esophose.discordbot.cards;

import com.google.common.collect.Lists;
import dev.esophose.discordbot.Sparky;
import discord4j.core.object.entity.GuildEmoji;
import discord4j.core.object.util.Snowflake;
import java.util.Collections;
import java.util.List;
import reactor.core.publisher.Mono;

public enum Card {

    ACE_OF_CLUBS(610482647696801904L),
    ACE_OF_DIAMONDS(610482647856054283L),
    ACE_OF_HEARTS(610482647822762015L),
    ACE_OF_SPADES(610482647935746080L),
    EIGHT_OF_CLUBS(610482658656518145L),
    EIGHT_OF_DIAMONDS(610482657364803606L),
    EIGHT_OF_HEARTS(610482658589409291L),
    EIGHT_OF_SPADES(610482658383757314L),
    FIVE_OF_CLUBS(610482655343018005L),
    FIVE_OF_DIAMONDS(610482653304455168L),
    FIVE_OF_HEARTS(610482653912760360L),
    FIVE_OF_SPADES(610482655414321153L),
    FOUR_OF_CLUBS(610482654206361651L),
    FOUR_OF_DIAMONDS(610482649466929152L),
    FOUR_OF_HEARTS(610482653321363466L),
    FOUR_OF_SPADES(610482653338271774L),
    JACK_OF_CLUBS(610482693171576892L),
    JACK_OF_DIAMONDS(610482693611978752L),
    JACK_OF_HEARTS(610482693712510976L),
    JACK_OF_SPADES(610482693414584320L),
    KING_OF_CLUBS(610482692848484392L),
    KING_OF_DIAMONDS(610482693750128640L),
    KING_OF_HEARTS(610482693909774337L),
    KING_OF_SPADES(610482693309726750L),
    NINE_OF_CLUBS(610482659575201792L),
    NINE_OF_DIAMONDS(610482658530689024L),
    NINE_OF_HEARTS(610482658534883331L),
    NINE_OF_SPADES(610482659033874442L),
    QUEEN_OF_CLUBS(610482693662048276L),
    QUEEN_OF_DIAMONDS(610482693297405952L),
    QUEEN_OF_HEARTS(610482786645573672L),
    QUEEN_OF_SPADES(610482787174187008L),
    SEVEN_OF_CLUBS(610482657276592148L),
    SEVEN_OF_DIAMONDS(610482656785727488L),
    SEVEN_OF_HEARTS(610482656546783272L),
    SEVEN_OF_SPADES(610482657251426336L),
    SIX_OF_CLUBS(610482657335312395L),
    SIX_OF_DIAMONDS(610482655380766742L),
    SIX_OF_HEARTS(610482655552733195L),
    SIX_OF_SPADES(610482657826045952L),
    TEN_OF_CLUBS(610482578889375776L),
    TEN_OF_DIAMONDS(610482585243746326L),
    TEN_OF_HEARTS(610482589894967347L),
    TEN_OF_SPADES(610482595305619466L),
    THREE_OF_CLUBS(610482612661780510L),
    THREE_OF_DIAMONDS(610482613379006472L),
    THREE_OF_HEARTS(610482649387106304L),
    THREE_OF_SPADES(610482652927098948L),
    TWO_OF_CLUBS(610482610191466506L),
    TWO_OF_DIAMONDS(610482611353157634L),
    TWO_OF_HEARTS(610482611839696937L),
    TWO_OF_SPADES(610482613269823509L);

    private long emojiId;

    Card(long emojiId) {
        this.emojiId = emojiId;
    }

    public Mono<String> getEmojiString() {
        return this.getGuildEmoji().map(GuildEmoji::asFormat);
    }

    public Mono<GuildEmoji> getGuildEmoji() {
        return Sparky.getInstance().getDiscord()
                .getGuildEmojiById(Snowflake.of(610482336248758290L), Snowflake.of(this.emojiId))
                .switchIfEmpty(Sparky.getInstance().getDiscord().getGuildEmojiById(Snowflake.of(610482405899501578L), Snowflake.of(this.emojiId)));
    }

    public static List<Card> getShuffledDeck() {
        List<Card> cards = Lists.newArrayList(Card.values());
        Collections.shuffle(cards);
        return cards;
    }

}
